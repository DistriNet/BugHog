<head>
<meta http-equiv="content-security-policy" content="script-src 'unsafe-inline' 'self';img-src 'self'">
</head>
<html>
  <body>
    <button id="123" onclick="breakit1()">CSP TEST1</button>
    <button id="456" onclick="breakit2()">CSP TEST2</button>
    <script>
      function breakit1() {
        open(
          "javascript:'<img src=https://a.test/report/?leak=c971231-meta>'",
          "_self"
        );
      }

      function breakit2() {
        location.href =
          "javascript:'<img src=https://a.test/report/?leak=c971231-meta>'";
      }
      window.addEventListener("load", function () {
        document.getElementById("123").click();
      });
    </script>
  </body>
</html>
